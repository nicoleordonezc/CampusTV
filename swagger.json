{
  "openapi": "3.0.0",
  "info": {
    "title": "CampusTV API",
    "version": "1.0.0",
    "description": "API para gestionar usuarios, categorías, contenido y reseñas de CampusTV"
  },
  "servers": [
    {
      "url": "http://localhost:5500"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "summary": "Registro de usuario",
        "tags": ["Auth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "email": { "type": "string" },
                  "password": { "type": "string" }
                },
                "required": ["name", "email", "password"]
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Usuario registrado exitosamente" },
          "400": { "description": "Error en los datos de entrada" }
        }
      }
    },
    "/auth/login": {
      "post": {
        "summary": "Login de usuario",
        "tags": ["Auth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string" },
                  "password": { "type": "string" }
                },
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Login exitoso, devuelve token" },
          "401": { "description": "Credenciales inválidas" }
        }
      }
    },
    "/campustv/category/getcienciaficcion": {
      "get": {
        "summary": "Obtener todo el contenido de ciencia ficción",
        "tags": ["Contenido"],
        "responses": {
          "200": { "description": "Lista de contenido de ciencia ficción" }
        }
      }
    },
    "/campustv/getall": {
      "get": {
        "summary": "Obtener todo el contenido",
        "tags": ["Contenido"],
        "responses": {
          "200": { "description": "Lista de todo el contenido disponible" }
        }
      }
    },
    "/campustv/contentby": {
      "get": {
        "summary": "Obtener contenido por título",
        "tags": ["Contenido"],
        "parameters": [
          {
            "in": "query",
            "name": "title",
            "schema": { "type": "string" },
            "required": true,
            "description": "Título del contenido"
          }
        ],
        "responses": {
          "200": { "description": "Contenido encontrado" },
          "404": { "description": "Contenido no encontrado" }
        }
      }
    },
    "/campustv/getreviews/{id}": {
      "get": {
        "summary": "Obtener reseñas de un contenido específico",
        "tags": ["Reseñas"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" },
            "description": "ID del contenido"
          }
        ],
        "responses": {
          "200": { "description": "Lista de reseñas" },
          "404": { "description": "No se encontraron reseñas" }
        }
      }
    },
    "/campustv/ranking": {
      "get": {
        "summary": "Obtener contenido por ranking",
        "tags": ["Contenido"],
        "responses": {
          "200": { "description": "Lista de contenido ordenado por ranking" }
        }
      }
    },
    "/campustv/postreview": {
      "post": {
        "summary": "Crear reseña",
        "tags": ["Reseñas"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": { "type": "string" },
                  "review": { "type": "string" },
                  "score": { "type": "number" }
                },
                "required": ["title", "review", "score"]
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Reseña creada" }
        }
      }
    },
    "/campustv/putreview/{id}": {
      "put": {
        "summary": "Editar una reseña",
        "tags": ["Reseñas"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "review": { "type": "string" },
                  "score": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Reseña actualizada" }
        }
      }
    },
    "/campustv/deletereview/{id}": {
      "delete": {
        "summary": "Eliminar reseña",
        "tags": ["Reseñas"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Reseña eliminada" }
        }
      }
    },
    "/campustv/putuser": {
      "put": {
        "summary": "Actualizar perfil de usuario",
        "tags": ["Usuario"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "email": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Perfil actualizado" }
        }
      }
    },
    "/admin/postcategory": {
      "post": {
        "summary": "Crear categoría",
        "tags": ["Admin - Categorías"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" }
                },
                "required": ["name"]
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Categoría creada" }
        }
      }
    },
    "/admin/putcategory/{id}": {
      "put": {
        "summary": "Editar categoría",
        "tags": ["Admin - Categorías"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Categoría actualizada" }
        }
      }
    },
    "/admin/deletecategory/{id}": {
      "delete": {
        "summary": "Eliminar categoría",
        "tags": ["Admin - Categorías"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Categoría eliminada" }
        }
      }
    },
    "/admin/postcontent": {
      "post": {
        "summary": "Crear contenido",
        "tags": ["Admin - Contenido"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": { "type": "string" },
                  "description": { "type": "string" },
                  "categoryId": { "type": "string" }
                },
                "required": ["title", "description", "categoryId"]
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Contenido creado" }
        }
      }
    },
    "/admin/putcontent/{id}": {
      "put": {
        "summary": "Editar contenido",
        "tags": ["Admin - Contenido"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": { "type": "string" },
                  "description": { "type": "string" },
                  "categoryId": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Contenido actualizado" }
        }
      }
    },
    "/admin/deletecontent/{id}": {
      "delete": {
        "summary": "Eliminar contenido",
        "tags": ["Admin - Contenido"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Contenido eliminado" }
        }
      }
    }
  }
}
